---
title: "How to Prepare Data for Histopathology Research?"
---

```
author: '[Serdar BalcÄ±, MD, Pathologist](https://sbalci.github.io/)'
date: "`{r #  format(Sys.Date())`"
output:
  revealjs::revealjs_presentation:
    incremental: yes
    theme: sky
    highlight: pygments
    center: no
    smart: yes
    transition: fade
    self_contained: yes
    ig_width: 7
    fig_height: 6
    fig_caption: yes
    reveal_options:
      slideNumber: yes
      previewLinks: yes
  prettydoc::html_pretty:
    theme: leonids
    highlight: github
  rmdshower::shower_presentation: null
  beamer_presentation:
    incremental: yes
    highlight: tango
  html_notebook:
    fig_caption: yes
    highlight: kate
    number_sections: yes
    theme: flatly
    toc: yes
    toc_depth: 5
    toc_float: yes
  slidy_presentation: null
  pdf_document:
    toc: yes
    toc_depth: '5'
  html_document:
    fig_caption: yes
    keep_md: yes
    toc: yes
    toc_depth: 5
    toc_float: yes
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      beforeInit:
      - macros.js
      - https://platform.twitter.com/widgets.js
      highlightStyle: github
      highlightLines: yes
      countIncrementalSlides: no
    self_contained: yes
  ioslides_presentation:
    incremental: yes
    highlight: github
institute: '[serdarbalci.com](https://www.serdarbalci.com)'
editor_options:
  chunk_output_type: inline
```

<!-- Open all links in new tab-->  
<base target="_blank"/>  


<!-- Go to www.addthis.com/dashboard to customize your tools --> <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5bc36900a405090b">  
</script>



```{r eval=FALSE, include=FALSE, echo=TRUE}
knitr::opts_chunk$set(fig.width = 12, fig.height = 8, fig.path = 'Figs/', echo = TRUE, warning = FALSE, message = FALSE, error = FALSE, eval = TRUE, tidy = TRUE, comment = NA, cache = TRUE)
```


```{r strings , include=FALSE}
PubMedString <- "PubMed: https://www.ncbi.nlm.nih.gov/pubmed/?term="

doiString <- "doi: https://doi.org/"

dimensionString1 <- "<script async='' charset='utf-8' src='https://badge.dimensions.ai/badge.js'></script> <span class='__dimensions_badge_embed__' data-doi='"

dimensionString2 <- "' data-style='small_circle' data-hide-zero-citations='true' data-legend='always'></span>"

altmetricString1 <-"<script type='text/javascript' src='https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js'></script> <span class='altmetric-embed' data-link-target='_blank' data-badge-details='right' data-badge-type='donut' data-doi='"

altmetricString2 <- "' data-hide-no-mentions='true'></span>"

addthis_String1 <- "<div class='addthis_inline_share_toolbox' data-url='pbpath.org/current-journal-watch/' data-title='See this abstract on #PBPath #JournalWatch : "

addthis_String2 <- "'></div>"

```


```{r run xaringan, eval=FALSE, message=FALSE, warning=FALSE, include=FALSE}
# xaringan::inf_mr()
# servr::daemon_stop(1)
```


# How to Prepare Data for Histopathology Research?

**Outline**

- Why is Data Preparation Important?
- Do I need a specific Software?
- What are the Golden Rules?
- What do I do with Data after analysis?
- I got all the tables from the biostatistician, is it enough?
- What is a Good (Clean/Ideal/Tidy) Data?
- What is a Bad (Dirty/Common/Untidy) Data?
- Do I need to know statistics before collecting Data?
- Do I need to have a hypothesis before collecting Data?
- Do I need a research question before collecting Data?


---


# How to Prepare Data for Histopathology Research?

**We Should Collect the Data Related to What We will Report**

- Recommendations for reporting histopathology studies: a proposal

```{r 25846513, include=FALSE}

PMID_25846513 <- RefManageR::ReadPubMed('25846513', database = 'PubMed')

citation_25846513 <- paste0(PMID_25846513$journal,' ', PMID_25846513$year, ' ', PMID_25846513$month,';', PMID_25846513$volume,'(', PMID_25846513$number,'):', PMID_25846513$pages)

PubMed_25846513 <- paste0(PubMedString, PMID_25846513$eprint)

doi_25846513 <- paste0(doiString, PMID_25846513$doi)

dimensionBadge_25846513 <- paste0(dimensionString1, PMID_25846513$doi,dimensionString2)

altmetricBadge_25846513 <- paste0(altmetricString1, PMID_25846513$doi, altmetricString2 )

addthis_inline_25846513 <- paste0(addthis_String1, PMID_25846513$title , " PMID: 25846513" , addthis_String2)
```


<!-- <details open> <summary> -->
- **`{r #  PMID_25846513$title`**
<!-- </summary>  -->

*`{r #  citation_25846513`*

`{r #  PubMed_25846513`

`{r #  addthis_inline_25846513`

`{r #  PMID_25846513$abstract`

`{r #  doi_25846513`

`{r #  dimensionBadge_25846513`

`{r #  altmetricBadge_25846513`

<!-- </details> -->


---


# Tables and Graphs to be Formed  

- Table One: Clinical Features Related to this disease and Histopathological Features (like a CAP synoptic)

- Cross Tables

- IHC Tables

- Survival Tables and Graphs



---

# Age


---


# Gender

- Male
- Female
- Non-binary (based on research)

For missing values:

{gender} ğŸ“¦

https://lincolnmullen.com/software/gender/

https://github.com/ropensci/gender



---

# Surgery Type

---





# Histopatoloji Ã§alÄ±ÅŸmalarÄ±nda istatistik analizi iÃ§in nasÄ±l veri hazÄ±rlanÄ±r?

Ä°statistik analizlerinde en Ã§ok vakit alan kÄ±sÄ±m verilerin dÃ¼zenlenmesi ve analize hazÄ±r hale getirilmesidir. Bu durum o kadar belirgindir ki veri analizi ile ilgili eÄŸitimlerin de Ã¶zel bir kÄ±smÄ±nÄ± "veri temizleme" dersleri oluÅŸturmaktadÄ±r \(Coursera\). Analize hazÄ±r haldeki veri "temiz veri" olarak adlandÄ±rÄ±lÄ±r \(Tidy Data, H.Wickham\). Ä°statistikÃ§ilerin kÄ±sÄ±tlÄ± vakti olduÄŸunu dÃ¼ÅŸÃ¼nÃ¼ldÃ¼ÄŸÃ¼nde verinin temiz olarak teslim edilmesi onlarÄ±n veriyi rahat anlamalarÄ±na ve veri temizleme iÃ§in ayÄ±racaklarÄ± vakit yerine sizin araÅŸtÄ±rmanÄ±zdaki ilginÃ§ noktalara odaklanmalarÄ±na yardÄ±mcÄ± olacaktÄ±r. AyrÄ±ca temiz veri ile Ã§alÄ±ÅŸmanÄ±n istatistikÃ§ileri daha mutlu ettiÄŸini ve Ã¶zen gÃ¶sterilmiÅŸ bir veride onlarÄ±n da daha Ã¶zenli Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± gÃ¶zlemlediÄŸimi belirtmek isterim.

Bu yazÄ±da hipotetik bir histopatoloji Ã§alÄ±ÅŸmasÄ± iÃ§in basamak basamak veri hazÄ±rlanma sÃ¼reci anlatÄ±lacaktÄ±r.

Histopatolojik makalelerde bulunmasÄ± gereken minimum bilgiler

Bu yazÄ±da kendi karÅŸÄ±laÅŸtÄ±ÄŸÄ±m problemleri ve literatÃ¼rdeki Ã¶nerileri \(Virchows Arch \(2015\) 466:611â€“615\) derlemeye Ã§alÄ±ÅŸtÄ±m.

Statistical Problems to Document and to Avoid Manuscript Checklist for Authors

[http://biostat.mc.vanderbilt.edu/wiki/Main/ManuscriptChecklist](http://biostat.mc.vanderbilt.edu/wiki/Main/ManuscriptChecklist)

AslÄ±nda bir "eski tÃ¼mÃ¶re yeni boya" olarak adlandÄ±rÄ±lan ve sÄ±k yapÄ±lan bir Ã§alÄ±ÅŸma tÃ¼rÃ¼nÃ¼ inceleyeceÄŸiz. Bunun iÃ§in yapÄ±lacak ilk iÅŸ Ã§alÄ±ÅŸÄ±lacak tÃ¼mÃ¶rle ilgili CAP protokolÃ¼nÃ¼ dikkatlice okumaktÄ±r. CAP protokollerinin Ã¶zellikle not ve aÃ§Ä±klama kÄ±sÄ±mlarÄ±ndaki detaylar Ã§ok faydalÄ± olacaktÄ±r. Bundan sonra bir boÅŸ kaÄŸÄ±t alÄ±p CAP protokolÃ¼nde raporda belirtilmesi gereken konular maddeler halinde sÄ±ralanmalÄ±dÄ±r. Bu maddeler Ã§alÄ±ÅŸmanÄ±n tasarlamasÄ±ndan, analizine, yorumuna ve tartÄ±ÅŸmasÄ±na Ã§ok yardÄ±mcÄ± olacaktÄ±r.

* # Temiz veri iÃ§in dikkat edilmesi gereken kurallar:
* Her satÄ±r tek hasta

* Her sÃ¼tun tek bilgi

* Her bilgi tek bir ÅŸekilde ifade edilecek

* # Verinin girileceÄŸi bilgisayar programÄ±

AynÄ± deÄŸerin farklÄ± ÅŸekilde yazÄ±lmasÄ±

Veri hazÄ±rlamak iÃ§in excel ya da filemaker kullanÄ±lmasÄ±nÄ± Ã¶neririm.

* # Vaka numarasÄ±

Ã‡alÄ±ÅŸmaya kaÃ§ vaka alÄ±nacak?

Her deÄŸiÅŸken iÃ§in 10 vaka?

VakalarÄ±n seÃ§ilme ÅŸekli: GeliÅŸigÃ¼zel? Randomize? Birbirini takip eden \(consequative\)

* # YÄ±l

Hangi yÄ±l aralÄ±ÄŸÄ± tercih edilmeli?

YÄ±l aralÄ±ÄŸÄ±nÄ±nÄ±n belirtilmesi nadir vakalarda vaka sayÄ±sÄ± ile ilgili bilgi verebilir. Bu nedenle klinikteki toplam vaka sayÄ±sÄ± ile karÅŸÄ±laÅŸtÄ±rma yapÄ±lmasÄ±

Bir klinikten Ã§Ä±kan vaka sayÄ±sÄ± da o klinikte bu iÅŸin ne kadar ciddi yapÄ±ldÄ±ÄŸÄ±nÄ±n ve tecrÃ¼benin gÃ¶stergesi. Kabul ÅŸansÄ±nÄ± arttÄ±ran faktÃ¶r.

Ä°mmÃ¼nohistokimya iÃ§in eski vakalar mÄ± tercih edilecek yeni vakalar mÄ±?

* # Biyopsi No
* # TC Kimlik, Hasta No, Ad Soyad

  * hasta bazlÄ± Ã§alÄ±ÅŸma vs Ã¶rnek bazlÄ± Ã§alÄ±ÅŸma
  * HIPAA kurallarÄ±
  * 
* # YaÅŸ

YÄ±l, ay

EÄŸer tÃ¼mÃ¶r belli bir yaÅŸ aralÄ±ÄŸÄ±nda gÃ¶rÃ¼lÃ¼yor, ya da bimodal daÄŸÄ±lÄ±m gÃ¶steriyorsa \(osteosarkom gibi\) bu durumu

* # DoÄŸum Tarihi
* # Cinsiyet
* 
* # TÃ¼mÃ¶r Ã§apÄ±
* # T evresi
* # N evresi

  * **Lenf nodu**
    Direk invazyon
* # M evresi
* # TNM/AJCC evresi
* # Histopatolojik tip
* 
* # **LenfovaskÃ¼ler Ä°nvazyon \(LVI\)**

LenfovaskÃ¼ler invazyon Ã§oÄŸu tÃ¼mÃ¶r raporlarÄ±nda belirtilmesi gereken bir Ã¶zelliktir.

Ã–nerilen kodlama ÅŸekli var ise 1, yok ise 0 ÅŸeklindedir.

Lenfatik ve vaskÃ¼ler invazyon ayrÄ± ayrÄ± da kodlanabilir. Mesela kolon tÃ¼mÃ¶rlerinde ekstramural venÃ¶z invazyonun belirtilmesi gibi.

CAP protokollerinde "equivocal" olarak belirtilen ÅŸÃ¼pheli durumlardan mÃ¼mkÃ¼n oldukÃ§a kaÃ§Ä±nmak analizlerin daha rahat yapÄ±labilmesi iÃ§in gereklidir.

"Extensive retraction artefact" gibi Ã¶zellikli durumlar Ã§alÄ±ÅŸmÄ±yorsa immÃ¼nohistokimyasal Ã§alÄ±ÅŸmalara gerek olmadan rutin H&E deÄŸerlendirme yeterlidir.

Raporlardan elde edilen bulgular da analiz iÃ§in kullanÄ±labilir. Ã–zellikle rutin rapora gÃ¶re tedavi planlanan durumlarda, doÄŸal seyri seyretmek istediÄŸiniz Ã§alÄ±ÅŸmalarda bunu yapabilirsiniz.

PatologlarÄ±n ise yaptÄ±klarÄ± Ã§alÄ±ÅŸmalarda mutlaka tÃ¼m vakalara yeniden bakmalarÄ± Ã¶nerilir. Bazen araÅŸtÄ±rmacÄ±lar sadece "negatif" olarak raporlanan vakalara bakÄ±p, bunlarda "atlanan" lenfovaskÃ¼ler invazyonu yakalamaya Ã§alÄ±ÅŸÄ±rlar. Bu durumda lenfovaskÃ¼ler invazyon yÃ¼zdeniz literatÃ¼rden yÃ¼ksek Ã§Ä±kacaktÄ±r \(YanlÄ±ÅŸ negatifler azalacaktÄ±r\). Pozitif olan olgulara da bakÄ±lmalÄ±, "pozitif" olarak raporlanan ve aslÄ±nda lenfovaskÃ¼ler invazyonu olmayan vakalar \(yanlÄ±ÅŸ pozitif\) ise negatif olarak analize alÄ±nmalÄ±dÄ±r.

Lenf nodunda metastaz olan olgularda lenfovaskÃ¼ler invazyonu pozitif olarak kabul etmek uygun deÄŸildir. Lenf noduna metastaz yapmanÄ±n ayrÄ± peritÃ¼mÃ¶ral lenfovaskÃ¼ler invazyon tespit edilmesinin ayrÄ± tÃ¼mÃ¶r geliÅŸim basamaklarÄ± olduÄŸu dÃ¼ÅŸÃ¼nÃ¼lmelidir.

* # **PerinÃ¶ral \(perinÃ¶ryal\) invazyon**
* # Cerrahi sÄ±nÄ±r
* # Ek hastalÄ±k
* # Ä°kinci primer

Birden fazla tÃ¼mÃ¶rÃ¼ olan olgularda klinik gidiÅŸi ve saÄŸkalÄ±mÄ± diÄŸer tÃ¼mÃ¶r etkiliyor olabilir. Sistoprostatektomilerde Ã¼rotelyal karsinom saÄŸkalÄ±ma, prostat tÃ¼mÃ¶rlerinden daha fazla etki edecektir.

Bu vakalarÄ±n Ã§Ä±kartÄ±lmasÄ± da insidansÄ± etkileyebilir. Bu nedenle Ã§alÄ±ÅŸmanÄ±n tasarÄ±mÄ±na gÃ¶re bu vakalarÄ± eklemek ya da Ã§Ä±akrtmak gerekecektir.

* # **Ä°mmÃ¼nohistokimya**

  * Pozitif, negatif

  * KayÄ±p, korunmuÅŸ

  * Åiddet

  * YaygÄ±nlÄ±k

  * H-skor, Allred score, Quick score

  * Hangi hÃ¼cre pozitif

  * Hangi komponent pozitif \(nÃ¼kleer, sitoplazmik, membranÃ¶z\)

  * YÃ¼zde

  * SonuÃ§larÄ± gruplama

  * Uygun antikor klonunu seÃ§mek ayrÄ± bir yazÄ± konusu olmalÄ±.
* # **Ameliyat ÅŸekli**
* # SaÄŸkalÄ±m

SaÄŸkalÄ±m verisi de hassas bilgilerdendir.

Ã–lÃ¼m bildirim sistemi

Tarihler

TanÄ± tarihi

Son tarih

Tarih girerken neye dikkat edelim \(Ä°ngilizce ve TÃ¼rkÃ§e farklÄ± tarih formatlarÄ±\)

* # Overall survival
* # Disease Free Survival
* # Vertikal tarama
* # Bilinmeyen veriler, Eksik veriler, Missing values

Her eksik hÃ¼cre, Ã§ok deÄŸiÅŸkenli analizden o vakanÄ±n dÃ¼ÅŸmesine neden olacaktÄ±r.

Eksik camlar

Eksik verileri excelde kontrol etme

* # Tek merkez, Ã§ok merkezli Ã§alÄ±ÅŸma
* # Ä°statistikÃ§iye sorulmasÄ± gereken sorular

Ã‡alÄ±ÅŸmaya baÅŸlamadan Ã¶nce, hangi sorularÄ± soracaÄŸÄ±nÄ±zÄ± zaten planlamÄ±ÅŸ olmanÄ±z ve buna gÃ¶re verilerinizi dÃ¼zenlemiÅŸ olmanÄ±z gerekir. Yine de Ã§alÄ±ÅŸma sÃ¼rerken ve Ã§alÄ±ÅŸmanÄ±n sonunda yeni sorular ve dÃ¼ÅŸÃ¼nceler ortaya Ã§Ä±kabilir. Sorulacak sorular ve yapÄ±lacak analizler iÃ§in bir Ã¶n hazÄ±rlÄ±k yapmak ve bunlarÄ± dÃ¼zgÃ¼n cÃ¼mleler halinde kaydetmek Ã¶nemlidir. Mesela "tÃ¼mÃ¶r tipleri ile X protein ekspresyonunu karÅŸÄ±laÅŸtÄ±rmak istiyorum" bir soru olabilir. Ama daha iyisi "X proteininin ekspresyonunun A tÃ¼mÃ¶rÃ¼nde B tÃ¼mÃ¶rÃ¼ne gÃ¶re daha fazla olduÄŸunu dÃ¼ÅŸÃ¼nÃ¼yorum, bunun Ã¶yle olup olmadÄ±ÄŸÄ±nÄ± analiz etmenizi istiyorum" daha da anlaÅŸÄ±lÄ±r bir soru olacaktÄ±r.

* # Bana p deÄŸeri ver
* # Hangi istatistik yÃ¶ntemlerini bilmem lazÄ±m

TÄ±p fakÃ¼ltesinin ilk yÄ±llarÄ±nda Ã¶ÄŸrenilen istatistikle ilgili kavramlar yÄ±llar iÃ§inde unutuluyor. Elbette herkesin detaylÄ± olarak istatistik metodlarÄ±nÄ± bilmesine gerek yok. Ancak yine de bir istatistik okuryazarlÄ±ÄŸÄ±nÄ±n \(statistical literacy\) olmasÄ±nda fayda var.



* * ANOVA testi

30 vaka sayÄ±lÄ±, tercihen verilerin normal daÄŸÄ±ldÄ±ÄŸÄ± durumlarda ve veriler Ã¶lÃ§Ã¼lebilir ve sÃ¼rekli nitelikte ise kullanÄ±lÄ±r. Mesela yaÅŸ, Ã¶zefagus lÃ¼meninin, Ã¶zefagus duvarÄ±na oranÄ± gibi durumlarda kullanÄ±labilir.

Ancak histopatolojik dercelendirme ya da evreleme gibi kesikli deÄŸiÅŸkenlerin olduÄŸu durumlarda parametrik test olan ANOVA Ã¶nerilmez. Grade 1 ila grade 2 arasÄ±ndaki fark ile grade 2 ila grade 3 arasÄ±ndaki fark matematiksel olarak eÅŸit deÄŸildir. Grade 2, grade 1 den 2 kat kÃ¶tÃ¼, grade 3 ise grade 1'den 3 kat kÃ¶tÃ¼dÃ¼r gibi bir yorum yapÄ±lmaz.

HastalarÄ±n kanser evresinin ortalama 2,5 , ya da tÃ¼mÃ¶r grade'inin ortalama 1,2 olarak verilmesi Ã¶nerilmez. Bunun yerine ortanca ve Ã§eyrekler arasÄ± fark \(median, interquartile range\) kullanÄ±lmasÄ± daha uygun olur. Bu nedenle yapÄ±lacak test de ANOVA'nÄ±n nonparametrik karÅŸÄ±lÄ±ÄŸÄ± olan Kruskal Wallis testidir.

Ã–lÃ§Ã¼m ÅŸeklinde olan, sÃ¼rekli deÄŸiÅŸkenlerde bile vaka sayÄ±sÄ±nÄ±n 30'dan az ise ya da veriler normal daÄŸÄ±lmÄ±yorsa birden fazla grubun karÅŸÄ±laÅŸtÄ±rmasÄ±nda da Kruskal Wallis testi kullanÄ±lÄ±r.

Ä°statistik dÄ±ÅŸÄ± bakÄ±ÅŸ aÃ§Ä±sÄ± ile; Kanser evreleme Ã§alÄ±ÅŸmalarÄ±nda \(lenf nodu sayÄ±sÄ±nda\) logaritmik dÃ¶nÃ¼ÅŸÃ¼m Ã§ok kullanÄ±lÄ±yor. Ve hemen tÃ¼m Ã§alÄ±ÅŸmalarda iÅŸe yarÄ±yor. Ã–rnek [https://www.ncbi.nlm.nih.gov/pubmed/28094085](https://www.ncbi.nlm.nih.gov/pubmed/28094085) Ama klinikte bilgisayar destekli bir karar sistemi kullanÄ±lmadÄ±ÄŸÄ± zaman bu logaritmik deÄŸerler Ã§ok afaki kalabiliyor. Model anlamlÄ± olsa da pratikte anlamasÄ± zor oluyor. Normallik yoksa nonparametrik testleri bir kademe daha rahat anlayabiliyorum.

# Top ten errors of statistical analysis in observational studies for cancer research

[https://rd.springer.com/article/10.1007%2Fs12094-017-1817-9](https://rd.springer.com/article/10.1007%2Fs12094-017-1817-9)



---

# Tweets

```{r eval=FALSE, include=FALSE, echo=TRUE}
library(rtweet)

how_to_prepare_data_tweet_1 <- paste0(
  "1/n
  
  
  "
  )

post_tweet(how_to_prepare_data_tweet_1)

```




