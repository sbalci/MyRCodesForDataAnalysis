
# ggpubr 


# ggpubr

```
https://rpkgs.datanovia.com/ggpubr



if(!require(devtools)) install.packages( devtools )
devtools::install_github( kassambara/ggpubr )
Distribution
library(ggpubr)


set.seed(1234)
wdata = data.frame(
   sex = factor(rep(c( F ,  M ), each=200)),
   weight = c(rnorm(200, 55), rnorm(200, 58)))
head(wdata, 4)




ggdensity(wdata, x =  weight ,
   add =  mean , rug = TRUE,
   color =  sex , fill =  sex ,
   palette = c( #00AFBB ,  #E7B800 ))



gghistogram(wdata, x =  weight ,
   add =  mean , rug = TRUE,
   color =  sex , fill =  sex ,
   palette = c( #00AFBB ,  #E7B800 ))




data( ToothGrowth )
df <- ToothGrowth
head(df, 4)


 p <- ggboxplot(df, x =  dose , y =  len ,
                color =  dose , palette =c( #00AFBB ,  #E7B800 ,  #FC4E07 ),
                add =  jitter , shape =  dose )
 p


 
 # Add p-values comparing groups
 # Specify the comparisons you want
my_comparisons <- list( c( 0.5 ,  1 ), c( 1 ,  2 ), c( 0.5 ,  2 ) )
p + stat_compare_means(comparisons = my_comparisons)+ # Add pairwise comparisons p-value
  stat_compare_means(label.y = 50)                   # Add global p-value



ggviolin(df, x =  dose , y =  len , fill =  dose ,
         palette = c( #00AFBB ,  #E7B800 ,  #FC4E07 ),
         add =  boxplot , add.params = list(fill =  white ))+
  stat_compare_means(comparisons = my_comparisons, label =  p.signif )+ # Add significance levels
  stat_compare_means(label.y = 50)                                      # Add global the p-value 




data( mtcars )
dfm <- mtcars

dfm$cyl <- as.factor(dfm$cyl)

dfm$name <- rownames(dfm)

head(dfm[, c( name ,  wt ,  mpg ,  cyl )])


ggbarplot(dfm, x =  name , y =  mpg ,
          fill =  cyl ,               # change fill color by cyl
          color =  white ,            # Set bar border colors to white
          palette =  jco ,            # jco journal color palett. see ?ggpar
          sort.val =  desc ,          # Sort the value in dscending order
          sort.by.groups = FALSE,     # Don't sort inside each group
          x.text.angle = 90           # Rotate vertically x axis texts
          )




ggbarplot(dfm, x =  name , y =  mpg ,
          fill =  cyl ,               # change fill color by cyl
          color =  white ,            # Set bar border colors to white
          palette =  jco ,            # jco journal color palett. see ?ggpar
          sort.val =  asc ,           # Sort the value in dscending order
          sort.by.groups = TRUE,      # Sort inside each group
          x.text.angle = 90           # Rotate vertically x axis texts
          )




dfm$mpg_z <- (dfm$mpg -mean(dfm$mpg))/sd(dfm$mpg)
dfm$mpg_grp <- factor(ifelse(dfm$mpg_z < 0,  low ,  high ), 
                     levels = c( low ,  high ))

head(dfm[, c( name ,  wt ,  mpg ,  mpg_z ,  mpg_grp ,  cyl )])


ggbarplot(dfm, x =  name , y =  mpg_z ,
          fill =  mpg_grp ,           # change fill color by mpg_level
          color =  white ,            # Set bar border colors to white
          palette =  jco ,            # jco journal color palett. see ?ggpar
          sort.val =  asc ,           # Sort the value in ascending order
          sort.by.groups = FALSE,     # Don't sort inside each group
          x.text.angle = 90,          # Rotate vertically x axis texts
          ylab =  MPG z-score ,
          xlab = FALSE,
          legend.title =  MPG Group 
          )



ggbarplot(dfm, x =  name , y =  mpg_z ,
          fill =  mpg_grp ,           # change fill color by mpg_level
          color =  white ,            # Set bar border colors to white
          palette =  jco ,            # jco journal color palett. see ?ggpar
          sort.val =  desc ,          # Sort the value in descending order
          sort.by.groups = FALSE,     # Don't sort inside each group
          x.text.angle = 90,          # Rotate vertically x axis texts
          ylab =  MPG z-score ,
          legend.title =  MPG Group ,
          rotate = TRUE,
          ggtheme = theme_minimal()
          )



ggdotchart(dfm, x =  name , y =  mpg ,
           color =  cyl ,                                # Color by groups
           palette = c( #00AFBB ,  #E7B800 ,  #FC4E07 ), # Custom color palette
           sorting =  ascending ,                        # Sort value in descending order
           add =  segments ,                             # Add segments from y = 0 to dots
           ggtheme = theme_pubr()                        # ggplot2 theme
           )




ggdotchart(dfm, x =  name , y =  mpg ,
           color =  cyl ,                                # Color by groups
           palette = c( #00AFBB ,  #E7B800 ,  #FC4E07 ), # Custom color palette
           sorting =  descending ,                       # Sort value in descending order
           add =  segments ,                             # Add segments from y = 0 to dots
           rotate = TRUE,                                # Rotate vertically
           group =  cyl ,                                # Order by groups
           dot.size = 6,                                 # Large dot size
           label = round(dfm$mpg),                        # Add mpg values as dot labels
           font.label = list(color =  white , size = 9, 
                             vjust = 0.5),               # Adjust label parameters
           ggtheme = theme_pubr()                        # ggplot2 theme
           )




ggdotchart(dfm, x =  name , y =  mpg_z ,
           color =  cyl ,                                # Color by groups
           palette = c( #00AFBB ,  #E7B800 ,  #FC4E07 ), # Custom color palette
           sorting =  descending ,                       # Sort value in descending order
           add =  segments ,                             # Add segments from y = 0 to dots
           add.params = list(color =  lightgray , size = 2), # Change segment color and size
           group =  cyl ,                                # Order by groups
           dot.size = 6,                                 # Large dot size
           label = round(dfm$mpg_z,1),                        # Add mpg values as dot labels
           font.label = list(color =  white , size = 9, 
                             vjust = 0.5),               # Adjust label parameters
           ggtheme = theme_pubr()                        # ggplot2 theme
           )+
  geom_hline(yintercept = 0, linetype = 2, color =  lightgray )




ggdotchart(dfm, x =  name , y =  mpg ,
           color =  cyl ,                                # Color by groups
           palette = c( #00AFBB ,  #E7B800 ,  #FC4E07 ), # Custom color palette
           sorting =  descending ,                       # Sort value in descending order
           rotate = TRUE,                                # Rotate vertically
           dot.size = 2,                                 # Large dot size
           y.text.col = TRUE,                            # Color y text by groups
           ggtheme = theme_pubr()                        # ggplot2 theme
           )+
  theme_cleveland()                                      # Add dashed grids

```














